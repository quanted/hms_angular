<div class="input-container">
    <strong class="centered">Aquatox WebWorkflow Alpha v0.1.0</strong>
    <div *ngIf="!simExecuting && !simCompleted">
        <div class="scroll-pane">
            <!-- AOI section -->
            <div class="container-item">
                <div class="section-heading">
                    <div id="this is just here as a spacer"></div>
                    <strong class="section-heading-center">Study Area</strong>
                    <div>
                        <mat-icon class="icon-panel-toggle float-right" matTooltipPosition="right" matTooltip="Collapse section">expand_less</mat-icon>
                    </div>
                </div>
                <div class="section-item" *ngIf="!huc">
                    <div class="form-row" [formGroup]="pPointForm">
                        <div class="vertical-center">
                            <div>Comid <input type="number" class="input-comid" formControlName="pPointComid" /></div>
                        </div>
                        <div class="button" (click)="getCatchment()" matTooltip="Get Pour Point">Get Pour Point by ComId</div>
                    </div>
                    <div class="centered">- or -</div>
                    <div class="centered">
                        <strong>Click map to select HUC 12</strong>
                        <!-- <select>
                            <option value="12">HUC 12</option>
                        </select> -->
                    </div>
                </div>
                <div class="section-item" *ngIf="huc">
                    <div class="form-row">
                        <div class="vertical-center">
                            <div>{{ huc.name }}</div>
                        </div>
                        <div class="button" (click)="clearHuc()">Reset Area of Interest</div>
                    </div>
                    <div *ngIf="!catchment" class="centered"><strong>Click map to select pour point</strong></div>
                    <div *ngIf="catchment">
                        <div class="form-row">
                            <div class="vertical-center">
                                <div>ComID {{ catchment.comid }}</div>
                            </div>
                            <div class="button" (click)="clearCatchment()">Reset Pour Point</div>
                        </div>
                    </div>

                    <div *ngIf="catchment && !network.network" [formGroup]="distanceForm">
                        <div class="form-row">Upstream Distance (Km)<input type="number" formControlName="distance"></div>
                    </div>
                    <div class="button" *ngIf="huc && catchment && !network.network && !waiting" (click)="getStreamNetwork()">
                        Get stream network
                    </div>
                </div>
                <div class="button" *ngIf="waiting">
                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                </div>
            </div>

            <!-- Aquatox section -->
            <div class="container-item" *ngIf="network.network">
                <div class="section-item" *ngIf="jsonFlags && !baseJson" [formGroup]="moduleForm">
                    <div class="centered"><strong>Select Base Simulation</strong></div>
                    <div>Base Simulation Selection Options</div>
                    <div *ngFor='let flag of jsonFlags'><input formControlName="{{flag}}" type="checkbox" /> {{ flag }}
                    </div>
                    <div class="button" (click)="getBaseJSONByFlags()">Get Base Simulation</div>
                </div>

                <!-- PSetup section -->
                <div *ngIf="baseJson" [formGroup]="pSetUpForm">
                    <div class="section-heading">
                        <div id="this is just here as a spacer"></div>
                        <strong class="section-heading-center">Simulation Setup</strong>
                        <div>
                            <mat-icon class="icon-panel-toggle float-right" matTooltipPosition="right" matTooltip="Collapse section">expand_less</mat-icon>
                        </div>
                    </div>
                    <div class="section-item">
                        <div class="form-row">
                            <div>
                                First Day
                                <input type="date" formControlName="firstDay">
                            </div>
                            <div>
                                Last Day
                                <input type="date" formControlName="lastDay">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="vertical-center">Time Step size</div>
                            <div class="form-row">
                                <div>Hour <input type="radio" name="tStep" formControlName="tStep" value="hour"></div>
                                <div>Day <input type="radio" name="tStep" formControlName="tStep" value="day"></div>
                            </div>
                        </div>
                        <div class="form-row">
                            Use Alternate Step Size <input type="checkbox" formControlName="useFixStepSize" />
                        </div>
                        <div class="form-row" *ngIf="">
                            Step Size <input type="number" formControlName="fixStepSize" />
                        </div>
                        <div>Advanced<mat-icon class="icon-panel-toggle" matTooltip="See Advanced Options">expand_more</mat-icon></div>
                    </div>
                </div>

                <!-- Locale section -->
                <div *ngIf="baseJson" [formGroup]="localeForm">
                    <div class="centered"><strong>Locale</strong></div>
                    <div class="form-row">
                        <div>
                            Site Name
                        </div>
                        <div>
                            <input type="text" formControlName="SiteName">
                        </div>
                    </div>
                    <div class="section-item">
                        <div class="form-row">
                        </div>
                        <div>Advanced<mat-icon class="icon-panel-toggle" matTooltip="See Advanced Options">expand_more</mat-icon></div>
                    </div>
                </div>

                <!-- Remin section -->
                <div *ngIf="baseJson" [formGroup]="reminForm">
                    <div class="centered"><strong>Remin</strong></div>
                    <div class="section-item">
                        <div class="form-row" *ngFor="let reminField of basicReminFields">
                            <div>{{ reminField.param }}</div>
                            <div class="vertical-center">
                                <div>
                                    <input type="number" class="input-comid" formControlName="{{ reminField.param }}" matTooltip="{{ reminField.param }}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>Advanced<mat-icon class="icon-panel-toggle" matTooltip="See Advanced Options">expand_more</mat-icon></div>
                </div>
            </div>


            <div class="container-item" *ngIf="network.network && baseJson">
                <div class="section-heading">
                    <div id="this is just here as a spacer"></div>
                    <strong class="section-heading-center">Output State Variables</strong>
                    <div>
                        <mat-icon class="icon-panel-toggle float-right" matTooltipPosition="right" matTooltip="Collapse section">expand_less</mat-icon>
                    </div>
                </div>
                <div class="section-item">
                    <div class="form-row" *ngFor="let variable of sVariables">
                        <div>{{ variable.PName }}</div>
                        <div class="vertical-center">
                            <div>
                                <input type="number" class="input-comid" value="{{ variable.InitialCond }}" matTooltip="{{ variable.PName }}"/>
                                {{ variable.LoadingUnit }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container-item" *ngIf="network.network && baseJson">
                <div class="section-heading">
                    <div id="this is just here as a spacer"></div>
                    <strong class="section-heading-center">Stream Segment Loadings</strong>
                    <div>
                        <mat-icon class="icon-panel-toggle float-right" matTooltipPosition="right" matTooltip="Collapse section">expand_less</mat-icon>
                    </div>
                </div>
                <app-segment-list></app-segment-list>
                <app-comid-select-input></app-comid-select-input>
            </div>
        </div>
        <div *ngIf="baseJson && network.network" class="section-item">
            <div class="button" (click)="clearBaseJson()">Reset Base Simulation</div>
            <div class="button" *ngIf="!simExecuting" (click)="executeSimulation()">Execute Aquatox Simulation</div>
        </div>
    </div>

    <div *ngIf="simExecuting || simCompleted">
        <app-execution-panel></app-execution-panel>
        <div class="button" (click)="resetSimulation()">reset simulation</div>
    </div>
</div>